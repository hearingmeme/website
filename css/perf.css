/* ====================================================
   PERF.CSS â€” Performance Optimizations
   ==================================================== */

/* 1. GPU layers only for animated elements */
.ear { will-change: transform; contain: layout; }
.rumor-bubble { will-change: transform, opacity; transform: translateZ(0); }
.level-up-celebration, .level-up-content { will-change: transform, opacity; }
#milestoneProgress { transform: translateZ(0); }

/* 2. Contain layout thrash on fixed overlays */
[id$="Overlay"], #hearingChestOverlay, #bonneteauOverlay, #pachinkoOverlay {
  contain: layout style;
  transform: translateZ(0);
}

/* 3. Static box-shadow on game area */
#gameArea { box-shadow: 0 0 20px rgba(255,215,0,0.2); }

/* 4. MOBILE: Kill expensive effects */
@media (max-width: 768px) {
  .ear { filter: none !important; }
  .hole { filter: none !important; }
  .hole:hover { filter: none !important; }
  body::before, body::after { display: none !important; }
  .game-stats, header { backdrop-filter: none !important; -webkit-backdrop-filter: none !important; }
  #score-display, .score-display, #scoreDisplay { animation: none !important; }
  #levelDisplay, .level-display { animation: none !important; }
  #gameArea { box-shadow: none !important; animation: none !important; }
}

/* 5. Font opt */
* { text-rendering: optimizeSpeed; }

/* 6. Compositing hints */
.bonneteau-cup, .pk-wrap, .cr-die-wrap { will-change: transform; }
.rumor-bubble, .level-up-celebration { isolation: isolate; }
